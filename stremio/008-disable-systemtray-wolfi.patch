Subject: Completely disable SystemTray to prevent QtWebEngine SIGTRAP
Upstream: No (Wolfi/container-specific fix)
Author: Juan Manuel MÃ©ndez Rey <vejeta@gmail.com>

SystemTray causes QtWebEngine to crash with SIGTRAP when D-Bus is unavailable.
This patch completely removes SystemTray instantiation and all its references.

---
--- a/main.qml
+++ b/main.qml
@@ -20,7 +20,8 @@ ApplicationWindow {
     property QtObject settings: Settings {}
     property QtObject user: User {}
     property QtObject streamingServer: Process {}
-    property QtObject systemTray: SystemTray {}
+    // SystemTray disabled for Wolfi - causes SIGTRAP without D-Bus
+    property QtObject systemTray: null
     property QtObject autoupdater: null
 
     property bool casting: false
@@ -166,7 +167,9 @@ ApplicationWindow {
     function quitApp() {
         root.quitting = true;
         webView.destroy();
-        systemTray.hideIconTray();
+        if (systemTray !== null) {
+            systemTray.hideIconTray();
+        }
         streamingServer.kill();
         streamingServer.waitForFinished(1500);
         Qt.quit();
@@ -176,11 +179,13 @@ ApplicationWindow {
      * set connections with System tray class
      * */
     Connections {
-        target: systemTray
+        target: null  // SystemTray disabled
+        enabled: false
 
         function onSignalIconMenuAboutToShow() {
-            systemTray.updateIsOnTop((root.flags & Qt::WindowStaysOnTopHint) === Qt::WindowStaysOnTopHint);
-	        systemTray.updateVisibleAction(root.visible);
+            // SystemTray disabled
+            // systemTray.updateIsOnTop((root.flags & Qt::WindowStaysOnTopHint) === Qt::WindowStaysOnTopHint);
+            // systemTray.updateVisibleAction(root.visible);
         }
 
         function onSignalShow() {
@@ -612,7 +617,9 @@ ApplicationWindow {
 
     onVisibilityChanged: {
         var enabledAlwaysOnTop = root.visible && root.visibility != Window.FullScreen;
-        systemTray.alwaysOnTopEnabled(enabledAlwaysOnTop);
+        if (systemTray !== null) {
+            systemTray.alwaysOnTopEnabled(enabledAlwaysOnTop);
+        }
         if (!enabledAlwaysOnTop) {
             root.flags &= ~Qt::WindowStaysOnTopHint;
         }
